/*! Scroller 0.0.0 - 2013-08-07 */!function(a,b){"use strict";var c=function(){var c,d,e,f=function(a){return Object.keys?Object.keys(a):function(){var b,c=[];for(b in a)c.push(b);return c}()},g=function(a){if(null===a||a===b)return!0;if(a.length&&a.length>0)return!1;if(0===a.length)return!0;var c=Object.prototype.hasOwnProperty;for(var d in a)if(c.call(a,d))return!1;return!0},h=["moz","webkit","o","ms"];for(e=0;e<h.length&&!a.requestAnimationFrame;e+=1)c=a[h[e]+"RequestAnimationFrame"],d=a[h[e]+"CancelAnimationFrame"]||a[h[e]+"CancelRequestAnimationFrame"];if(c)c=a[c].bind(a),d=a[d].bind(a);else{var i=60,j={},k=1,l=null;c=function(a){var b=k++;return j[b]=a,null===l&&(l=setTimeout(function(){var a=Date.now(),b=j,c=f(b);j={},l=null;for(var d=0,e=c.length;e>d;d++)b[c[d]](a)},1e3/i)),b},d=function(a){delete j[a],g(j)&&(clearTimeout(l),l=null)}}return{request:c,cancel:d}}(),d=function(){var a=Date.now,d=60,e=1e3,f={},g=1;return{start:function(h,i,j,k,l,m){var n=a(),o=n,p=0,q=0,r=g++;if(m||(m=document.body),0===r%20){var s={};for(var t in f)s[t]=!0;f=s}var u=function(g){var s=g!==!0,t=a();if(!f[r]||i&&!i(r))return f[r]=null,j&&j(d-q/((t-n)/e),r,!1),b;if(s)for(var v=Math.round((t-o)/(e/d))-1,w=0;w<Math.min(v,4);w++)u(!0),q++;k&&(p=(t-n)/k,p>1&&(p=1));var x=l?l(p):p;h(x,t,s)!==!1&&1!==p||!s?s&&(o=t,c.request(u,m)):(f[r]=null,j&&j(d-q/((t-n)/e),r,1===p||null==k))};return f[r]=!0,c.request(u,m),r},stop:function(a){var b=null!=f[a];return b&&(f[a]=null),b},isRunning:function(a){return null!=f[a]}}}(),e=function(){return{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return(a/=.5)<1?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return-Math.cos(a*(Math.PI/2))+1},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:-Math.pow(2,-10*a)+1},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*2*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?.5*a*a*(((b*=1.525)+1)*a-b):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}}}(),f=function(a,b){this.__callback=a,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3};for(var c in b)this.options[c]=b[c]},g=e.easeOutCubic,h=e.easeInOutCubic,i={__isSingleTouch:!1,__isTracking:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(a,b,c,d){var e=this;a&&(e.__clientWidth=a),b&&(e.__clientHeight=b),c&&(e.__contentWidth=c),d&&(e.__contentHeight=d),e.__computeScrollMax(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},setPosition:function(a,b){var c=this;c.__clientLeft=a||0,c.__clientTop=b||0},setSnapSize:function(a,b){var c=this;c.__snapWidth=a,c.__snapHeight=b},activatePullToRefresh:function(a,b,c,d){var e=this;e.__refreshHeight=a,e.__refreshActivate=b,e.__refreshDeactivate=c,e.__refreshStart=d},finishPullToRefresh:function(){var a=this;a.__refreshActive=!1,a.__refreshDeactivate&&a.__refreshDeactivate(),a.scrollTo(a.__scrollLeft,a.__scrollTop,!0)},getValues:function(){var a=this;return{left:a.__scrollLeft,top:a.__scrollTop,zoom:a.__zoomLevel}},getScrollMax:function(){var a=this;return{left:a.__maxScrollLeft,top:a.__maxScrollTop}},zoomTo:function(a,b,c,e){var f=this;if(!f.options.zooming)throw Error("Zooming is not enabled!");f.__isDecelerating&&(d.stop(f.__isDecelerating),f.__isDecelerating=!1);var g=f.__zoomLevel;null==c&&(c=f.__clientWidth/2),null==e&&(e=f.__clientHeight/2),a=Math.max(Math.min(a,f.options.maxZoom),f.options.minZoom),f.__computeScrollMax(a);var h=(c+f.__scrollLeft)*a/g-c,i=(e+f.__scrollTop)*a/g-e;h>f.__maxScrollLeft?h=f.__maxScrollLeft:0>h&&(h=0),i>f.__maxScrollTop?i=f.__maxScrollTop:0>i&&(i=0),f.__publish(h,i,a,b)},zoomBy:function(a,b,c,d){var e=this;e.zoomTo(e.__zoomLevel*a,b,c,d)},scrollTo:function(a,b,c,e){var f=this;if(f.__isDecelerating&&(d.stop(f.__isDecelerating),f.__isDecelerating=!1),null!=e&&e!==f.__zoomLevel){if(!f.options.zooming)throw Error("Zooming is not enabled!");a*=e,b*=e,f.__computeScrollMax(e)}else e=f.__zoomLevel;f.options.scrollingX?f.options.paging?a=Math.round(a/f.__clientWidth)*f.__clientWidth:f.options.snapping&&(a=Math.round(a/f.__snapWidth)*f.__snapWidth):a=f.__scrollLeft,f.options.scrollingY?f.options.paging?b=Math.round(b/f.__clientHeight)*f.__clientHeight:f.options.snapping&&(b=Math.round(b/f.__snapHeight)*f.__snapHeight):b=f.__scrollTop,a=Math.max(Math.min(f.__maxScrollLeft,a),0),b=Math.max(Math.min(f.__maxScrollTop,b),0),a===f.__scrollLeft&&b===f.__scrollTop&&(c=!1),f.__publish(a,b,e,c)},scrollBy:function(a,b,c){var d=this,e=d.__isAnimating?d.__scheduledLeft:d.__scrollLeft,f=d.__isAnimating?d.__scheduledTop:d.__scrollTop;d.scrollTo(e+(a||0),f+(b||0),c)},doMouseZoom:function(a,b,c,d){var e=this,f=a>0?.97:1.03;return e.zoomTo(e.__zoomLevel*f,!1,c-e.__clientLeft,d-e.__clientTop)},doTouchStart:function(a,b){if(null==a.length)throw Error("Invalid touch list: "+a);if(b instanceof Date&&(b=b.valueOf()),"number"!=typeof b)throw Error("Invalid timestamp value: "+b);this.__touchNumber=a.length;var c=this;c.__isDecelerating&&(d.stop(c.__isDecelerating),c.__isDecelerating=!1),c.__isAnimating&&(d.stop(c.__isAnimating),c.__isAnimating=!1);var e,f,g=1===a.length;g?(e=a[0].pageX,f=a[0].pageY):(e=Math.abs(a[0].pageX+a[1].pageX)/2,f=Math.abs(a[0].pageY+a[1].pageY)/2),c.__initialTouchLeft=e,c.__initialTouchTop=f,c.__zoomLevelStart=c.__zoomLevel,c.__lastTouchLeft=e,c.__lastTouchTop=f,c.__lastTouchMove=b,c.__lastScale=1,c.__enableScrollX=!g&&c.options.scrollingX,c.__enableScrollY=!g&&c.options.scrollingY,c.__isTracking=!0,c.__isDragging=!g,c.__isSingleTouch=g,c.__positions=[]},doTouchMove:function(a,b,c){if(null==a.length)throw Error("Invalid touch list: "+a);if(b instanceof Date&&(b=b.valueOf()),"number"!=typeof b)throw Error("Invalid timestamp value: "+b);var d=this;if(d.__isTracking){var e,f;2===a.length?(e=Math.abs(a[0].pageX+a[1].pageX)/2,f=Math.abs(a[0].pageY+a[1].pageY)/2):(e=a[0].pageX,f=a[0].pageY);var g=d.__positions;if(d.__isDragging){var h=e-d.__lastTouchLeft,i=f-d.__lastTouchTop,j=d.__scrollLeft,k=d.__scrollTop,l=d.__zoomLevel;if(null!=c&&d.options.zooming){var m=l;if(l=l/d.__lastScale*c,l=Math.max(Math.min(l,d.options.maxZoom),d.options.minZoom),m!==l){var n=e-d.__clientLeft,o=f-d.__clientTop;j=(n+j)*l/m-n,k=(o+k)*l/m-o,d.__computeScrollMax(l)}}if(d.__enableScrollX){j-=h;var p=d.__maxScrollLeft;(j>p||0>j)&&(d.options.bouncing?j+=h/2:j=j>p?p:0)}if(d.__enableScrollY){k-=i;var q=d.__maxScrollTop;(k>q||0>k)&&(d.options.bouncing?(k+=i/2,d.__enableScrollX||null==d.__refreshHeight||(!d.__refreshActive&&k<=-d.__refreshHeight?(d.__refreshActive=!0,d.__refreshActivate&&d.__refreshActivate()):d.__refreshActive&&k>-d.__refreshHeight&&(d.__refreshActive=!1,d.__refreshDeactivate&&d.__refreshDeactivate()))):k=k>q?q:0)}g.length>60&&g.splice(0,30),g.push(j,k,b),d.__publish(j,k,l)}else{var r=d.options.locking?3:0,s=5,t=Math.abs(e-d.__initialTouchLeft),u=Math.abs(f-d.__initialTouchTop);d.__enableScrollX=d.options.scrollingX&&t>=r,d.__enableScrollY=d.options.scrollingY&&u>=r,g.push(d.__scrollLeft,d.__scrollTop,b),d.__isDragging=(d.__enableScrollX||d.__enableScrollY)&&(t>=s||u>=s)}d.__lastTouchLeft=e,d.__lastTouchTop=f,d.__lastTouchMove=b,d.__lastScale=c}},doTouchEnd:function(a){if(a instanceof Date&&(a=a.valueOf()),"number"!=typeof a)throw Error("Invalid timestamp value: "+a);this.__touchNumber--;var b=this;if(b.__isTracking){if(b.__isTracking=!1,b.__isDragging&&(b.__isDragging=!1,b.__isSingleTouch&&b.options.animating&&a-b.__lastTouchMove<=100)){for(var c=b.__positions,d=c.length-1,e=d,f=d;f>0&&c[f]>b.__lastTouchMove-100;f-=3)e=f;if(e!==d){var g=c[d]-c[e],h=b.__scrollLeft-c[e-2],i=b.__scrollTop-c[e-1];b.__decelerationVelocityX=h/g*(1e3/60),b.__decelerationVelocityY=i/g*(1e3/60);var j=b.options.paging||b.options.snapping?4:1;(Math.abs(b.__decelerationVelocityX)>j||Math.abs(b.__decelerationVelocityY)>j)&&(b.__refreshActive||b.__startDeceleration(a))}}b.__isDecelerating||(b.__refreshActive&&b.__refreshStart?(b.__publish(b.__scrollLeft,-b.__refreshHeight,b.__zoomLevel,!0),b.__refreshStart&&b.__refreshStart()):(b.scrollTo(b.__scrollLeft,b.__scrollTop,!0,b.__zoomLevel),b.__refreshActive&&(b.__refreshActive=!1,b.__refreshDeactivate&&b.__refreshDeactivate()))),b.__positions.length=0}},__publish:function(a,b,c,e){var f=this,i=f.__isAnimating;if(i&&(d.stop(i),f.__isAnimating=!1),e&&f.options.animating){f.__scheduledLeft=a,f.__scheduledTop=b,f.__scheduledZoom=c;var j=f.__scrollLeft,k=f.__scrollTop,l=f.__zoomLevel,m=a-j,n=b-k,o=c-l,p=function(a,b,c){c&&(f.__scrollLeft=j+m*a,f.__scrollTop=k+n*a,f.__zoomLevel=l+o*a,f.__callback&&f.__callback(f.__scrollLeft,f.__scrollTop,f.__zoomLevel))},q=function(a){return f.__isAnimating===a},r=function(a,b){b===f.__isAnimating&&(f.__isAnimating=!1),f.options.zooming&&f.__computeScrollMax()};f.__isAnimating=d.start(p,q,r,f.options.animationDuration,i?g:h)}else f.__scheduledLeft=f.__scrollLeft=a,f.__scheduledTop=f.__scrollTop=b,f.__scheduledZoom=f.__zoomLevel=c,f.__callback&&f.__callback(a,b,c),f.options.zooming&&f.__computeScrollMax()},__computeScrollMax:function(a){var b=this;null==a&&(a=b.__zoomLevel),b.__maxScrollLeft=Math.max(b.__contentWidth*a-b.__clientWidth,0),b.__maxScrollTop=Math.max(b.__contentHeight*a-b.__clientHeight,0)},__startDeceleration:function(){var a=this;if(a.options.paging){var b=Math.max(Math.min(a.__scrollLeft,a.__maxScrollLeft),0),c=Math.max(Math.min(a.__scrollTop,a.__maxScrollTop),0),e=a.__clientWidth,f=a.__clientHeight;a.__minDecelerationScrollLeft=Math.floor(b/e)*e,a.__minDecelerationScrollTop=Math.floor(c/f)*f,a.__maxDecelerationScrollLeft=Math.ceil(b/e)*e,a.__maxDecelerationScrollTop=Math.ceil(c/f)*f}else a.__minDecelerationScrollLeft=0,a.__minDecelerationScrollTop=0,a.__maxDecelerationScrollLeft=a.__maxScrollLeft,a.__maxDecelerationScrollTop=a.__maxScrollTop;var g=function(b,c,d){a.__stepThroughDeceleration(d)},h=function(){a.__isDecelerating=!1,0==a.__touchNumber&&a.scrollTo(a.__scrollLeft,a.__scrollTop,a.options.snapping)};a.__isDecelerating=d.start(g,null,h)},__stepThroughDeceleration:function(a){var b=this,c=b.__scrollLeft+b.__decelerationVelocityX,e=b.__scrollTop+b.__decelerationVelocityY;if(!b.options.bouncing){var f=Math.max(Math.min(b.__maxDecelerationScrollLeft,c),b.__minDecelerationScrollLeft);f!==c&&(c=f,b.__decelerationVelocityX=0);var g=Math.max(Math.min(b.__maxDecelerationScrollTop,e),b.__minDecelerationScrollTop);g!==e&&(e=g,b.__decelerationVelocityY=0)}if(a?b.__publish(c,e,b.__zoomLevel):(b.__scrollLeft=c,b.__scrollTop=e),!b.options.paging){var h=.95;b.__decelerationVelocityX*=h,b.__decelerationVelocityY*=h}var i=0,j=0;b.options.bouncing&&(c<b.__minDecelerationScrollLeft?i=b.__minDecelerationScrollLeft-c:c>b.__maxDecelerationScrollLeft&&(i=b.__maxDecelerationScrollLeft-c),e<b.__minDecelerationScrollTop?j=b.__minDecelerationScrollTop-e:e>b.__maxDecelerationScrollTop&&(j=b.__maxDecelerationScrollTop-e));var k=b.options.snapping?4:.1;if(Math.abs(i)<1&&Math.abs(j)<1&&Math.abs(b.__decelerationVelocityX)<k&&Math.abs(b.__decelerationVelocityY)<k&&d.stop(b.__isDecelerating),b.options.bouncing){var l=.03,m=.08;0!==i&&(i*b.__decelerationVelocityX<=0?b.__decelerationVelocityX+=i*l:b.__decelerationVelocityX=i*m),0!==j&&(j*b.__decelerationVelocityY<=0?b.__decelerationVelocityY+=j*l:b.__decelerationVelocityY=j*m)}}};for(var j in i)f.prototype[j]=i[j];"function"==typeof define&&define.amd?define(function(){return f}):a.Scroller=f}(window);
/*
//@ sourceMappingURL=dist/scroller.min.js.map
*/